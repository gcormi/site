<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Syst√®me de S√©curit√© Domestique Connect√©</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            background: #f9f9f9; /* Fond clair */
        }
        .explication {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        .exercise-container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .chaine {
            display: flex;
            gap: 15px;
            margin: 25px 0;
            padding: 20px;
            border: 2px solid;
            border-radius: 10px;
        }
        .info-chain { border-color: #27ae60; } /* Vert pour l'information */
        .energy-chain { border-color: #e74c3c; } /* Rouge pour l'√©nergie */
        .function-chain { border-color: #3498db; } /* Bleu pour le fonctionnement */
        .box {
            border: 2px dashed #34495e;
            padding: 15px;
            width: 180px;
            min-height: 80px;
            border-radius: 8px;
            text-align: center;
            background: #f8f9fa;
            transition: all 0.3s;
        }
        .draggable {
            background: #ecf0f1;
            padding: 12px;
            margin: 8px;
            border-radius: 5px;
            cursor: grab;
            border: 2px solid #3498db;
        }
        #validation {
            text-align: center;
            margin-top: 30px;
        }
        button {
            background: #3498db;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        #resultat {
            margin-top: 15px;
            font-weight: bold;
        }
        .correct { border-color: #27ae60 !important; }
        .incorrect { border-color: #e74c3c !important; }
        .exemple-box {
            border: 2px solid;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <!-- ========== PARTIE EXPLICATIONS ========== -->
    <div class="explication">
        <h1>üîí Syst√®me de S√©curit√© Domestique Connect√©</h1>

        <div class="exemple-box" style="border-color: #27ae60;">
            <h2>üì¶ O√π utilise-t-on ces syst√®mes ?</h2>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                <div>
                    <h3>üè† Dans la vie quotidienne</h3>
                    <ul>
                        <li>Maisons individuelles</li>
                        <li>Appartements</li>
                        <li>Garages</li>
                    </ul>
                    <p>Exemple : Maison :</p>
                    <ul>
                        <li>D√©tection d'intrusion</li>
                        <li>Alerte sur smartphone</li>
                        <li>Cam√©ras en temps r√©el</li>
                    </ul>
                </div>
                <div>
                    <h3>üè¢ En entreprise</h3>
                    <ul>
                        <li>Bureaux</li>
                        <li>Commerces</li>
                        <li>Entrep√¥ts</li>
                    </ul>
                    <p>Exemple : Commerce :</p>
                    <ol>
                        <li>D√©tection de mouvement</li>
                        <li>Enregistrement vid√©o</li>
                        <li>Alarme sonore</li>
                    </ol>
                </div>
            </div>
        </div>
        <h2>Fonctionnement Technique</h2>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 20px;">
            <div>
                <h3 style="color: #27ae60;">Cha√Æne d'Information</h3>
                <ul>
                    <li><strong>Surveillance</strong><br>
                        Capteurs d√©tectent les intrusions, fum√©e ou chaleur.</li>
                    <li><strong>R√©gulation</strong><br>
                        Ajustement automatique des param√®tres (ex. d√©sactivation si pr√©sence).</li>
                    <li><strong>Communication</strong><br>
                        Transmission des donn√©es via WiFi/4G vers une application mobile.</li>
                </ul>
            </div>
            <div>
                <h3 style="color: #e74c3c;">Cha√Æne d'√ânergie</h3>
                <ul>
                    <li><strong>Alimentation</strong><br>
                        Secteur √©lectrique principal (220V) avec batterie de secours (72h).</li>
                    <li><strong>Distribution</strong><br>
                        Relais alimentent les capteurs, cam√©ras et alarmes.</li>
                    <li><strong>Conversion</strong><br>
                        Transformateur adapte la tension pour chaque composant.</li>
                    <li><strong>Actionnement</strong><br>
                        Activation des alarmes, cam√©ras ou m√©canismes.</li>
                </ul>
            </div>
        </div>
        <div class="exemple-box" style="border-color: #3498db; margin-top: 30px;">
            <h2>üîç Exemple Concret</h2>
            <p>Intrusion d√©tect√©e :</p>
            <ol>
                <li><span style="color: #e74c3c;">Capteur</span> d√©tecte un mouvement suspect.</li>
                <li><span style="color: #27ae60;">Processeur</span> analyse l'√©v√©nement.</li>
                <li><span style="color: #27ae60;">Alarme</span> se d√©clenche imm√©diatement.</li>
                <li><span style="color: #27ae60;">Notification</span> envoy√©e au propri√©taire.</li>
            </ol>
        </div>
    </div>

    <!-- ========== PARTIE EXERCICE ========== -->
    <div class="exercise-container">
        <h2>Exercice Interactif</h2>
        
        <!-- Cha√Æne de Fonctionnement -->
        <div class="chaine function-chain">
            <h3>Cha√Æne de Fonctionnement</h3>
            <div class="box" data-correct="D√©tection"></div>
            <div class="box" data-correct="Traitement"></div>
            <div class="box" data-correct="Action"></div>
        </div>
        
        <!-- Cha√Æne d'Information -->
        <div class="chaine info-chain">
            <h3>Cha√Æne d'Information</h3>
            <div class="box" data-correct="Surveillance"></div>
            <div class="box" data-correct="R√©gulation"></div>
            <div class="box" data-correct="Communication"></div>
        </div>
        
        <!-- Cha√Æne d'√ânergie -->
        <div class="chaine energy-chain">
            <h3>Cha√Æne d'√ânergie</h3>
            <div class="box" data-correct="Alimentation"></div>
            <div class="box" data-correct="Distribution"></div>
            <div class="box" data-correct="Conversion"></div>
            <div class="box" data-correct="Actionnement"></div>
        </div>
        
        <!-- √âtiquettes m√©lang√©es -->
        <div id="etiquettes" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin: 20px 0;">
            <div class="draggable">Surveillance</div>
            <div class="draggable">R√©gulation</div>
            <div class="draggable">Communication</div>
            <div class="draggable">Alimentation</div>
            <div class="draggable">Distribution</div>
            <div class="draggable">Conversion</div>
            <div class="draggable">Actionnement</div>
            <div class="draggable">D√©tection</div>
            <div class="draggable">Traitement</div>
            <div class="draggable">Action</div>
        </div>
        
        <div id="validation">
            <button onclick="validerReponses()">V√©rifier les r√©ponses</button>
            <p id="resultat"></p>
        </div>
    </div>

    <script>
        let currentDragged = null;

        // Gestion du drag & drop
        document.querySelectorAll('.draggable').forEach(draggable => {
            draggable.addEventListener('dragstart', () => {
                draggable.classList.add('dragging');
                currentDragged = draggable;
            });
            draggable.addEventListener('dragend', () => {
                draggable.classList.remove('dragging');
                currentDragged = null;
            });
        });

        document.querySelectorAll('.box').forEach(box => {
            box.addEventListener('dragover', e => e.preventDefault());
            box.addEventListener('drop', e => {
                e.preventDefault();
                if (currentDragged) {
                    box.textContent = currentDragged.textContent.trim(); // Assure que le texte est propre
                    box.classList.remove('correct', 'incorrect');
                }
            });
        });

        // Validation
        function validerReponses() {
            let allCorrect = true;
            document.querySelectorAll('.box').forEach(box => {
                const expected = box.dataset.correct; // R√©cup√®re la r√©ponse attendue
                const actual = box.textContent.trim(); // R√©cup√®re le texte actuel dans la bo√Æte
                if (actual === expected) {
                    box.classList.add('correct');
                    box.classList.remove('incorrect');
                } else {
                    box.classList.add('incorrect');
                    box.classList.remove('correct');
                    allCorrect = false;
                }
            });
            const resultat = document.getElementById('resultat');
            if (allCorrect) {
                resultat.innerHTML = 'üéâ Bravo ! Mot magique : <strong>SE1-CUR</strong>';
                resultat.style.color = 'green';
            } else {
                resultat.innerHTML = '‚ùå Corrigez les cases en rouge';
                resultat.style.color = '#e74c3c';
            }
        }
    </script>
</body>
</html>