/* --- Variables --- */
:root{--bg-color:#0b99b6;--text-color:#4A4A4A;--heading-font:'Quicksand', sans-serif;--body-font:'Lato', sans-serif;--accent-color:#00796B;--border-color-light:#E0E0E0;--error-color:#D32F2F;--success-color:#4CAF50;--disabled-color:#BDBDBD;--card-color-1:#E6E0F8;--card-color-2:#F0E68C;--card-color-3:#FFDAB9;--card-color-4:#ADD8E6;--card-color-5:#FBC4AB;--card-color-6:#C8E6C9;--card-hover-shadow:0 8px 20px rgba(0,0,0,0.12);--card-shadow:0 4px 10px rgba(0,0,0,0.08);--card-border-radius:15px;--modal-background:#ffffff;--modal-overlay:rgba(0,0,0,0.4);--animation-speed:0.3s;}
/* --- Styles Généraux --- */
*{box-sizing:border-box;}html{scroll-behavior:smooth;}body{font-family:var(--body-font);margin:0;padding:0;background-color:var(--bg-color);color:var(--text-color);line-height:1.6;font-size:16px;overflow-x:hidden;}.container{max-width:1200px;margin:30px auto;padding:20px;}
/* --- Header --- */
header{text-align:center;margin-bottom:50px;padding-top:20px;}.logo-placeholder{font-size:3em;margin-bottom:10px;}header h1{font-family:var(--heading-font);color:#5D4037;font-size:clamp(2em, 6vw, 3em);font-weight:700;margin-bottom:5px;}header p{font-size:clamp(1em, 2.5vw, 1.1em);color:#757575;max-width:600px;margin:0 auto;}
/* --- Grille de Cartes --- */
#card-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(250px, 1fr));gap:30px;}
/* JS gère display none/grid */
.course-card{background-color:var(--card-color-1);border-radius:var(--card-border-radius);padding:35px 25px;box-shadow:var(--card-shadow);cursor:pointer;transition:transform 0.3s ease-out, box-shadow 0.3s ease-out;text-align:center;min-height:200px;display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;border:2px solid transparent;}
.course-card:focus{outline:none;border:2px solid var(--accent-color);}
.course-card:hover{transform:translateY(-8px) scale(1.02);box-shadow:var(--card-hover-shadow);}
.course-card[data-section="besoin"]{background-color:var(--card-color-1);}.course-card[data-section="solution"]{background-color:var(--card-color-2);}.course-card[data-section="materiaux"]{background-color:var(--card-color-3);}.course-card[data-section="programme"]{background-color:var(--card-color-4);}.course-card[data-section="conclusion"]{background-color:var(--card-color-5);}.course-card[data-section="exercices"]{background-color:var(--card-color-6);}
.card-icon{font-size:2.8em;margin-bottom:15px;opacity:0.8;}.card-title{font-family:var(--heading-font);font-size:1.6em;font-weight:700;color:var(--text-color);}
.card-status{position:absolute;top:15px;right:15px;width:15px;height:15px;border-radius:50%;background-color:rgba(0,0,0,0.1);transition:background-color 0.3s ease;}
.course-card.visited .card-status{background-color:var(--accent-color);}
.course-card.visited .card-status::after{content:'✓';color:white;font-size:10px;font-weight:bold;display:flex;justify-content:center;align-items:center;width:100%;height:100%;}
/* --- Zone de Contenu --- */
#content-viewer{display:none;opacity:0;transition:opacity var(--animation-speed) ease;}
#content-viewer.visible{display:block;opacity:1;}
.content-section{background-color:#fff;padding:30px 40px;border-radius:var(--card-border-radius);box-shadow:var(--card-shadow);margin-top:20px;border:1px solid var(--border-color-light);display:none;}
.content-section.is-visible{display:block;animation:fadeIn var(--animation-speed) ease forwards;}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}
.back-button{display:inline-block;margin-bottom:25px;padding:12px 25px;background-color:var(--card-color-5);color:var(--text-color);border:none;border-radius:8px;font-family:var(--heading-font);font-size:1.1em;font-weight:700;cursor:pointer;transition:background-color 0.2s ease, transform 0.1s ease;box-shadow:0 2px 4px rgba(0,0,0,0.1);}
.back-button:hover{background-color:#F8AFA6;transform:scale(1.03);}.back-button:active{transform:scale(0.98);}
/* --- Contenu Interne --- */
.content-section h2{font-family:var(--heading-font);font-size:clamp(1.8em, 5vw, 2.2em);color:#5D4037;margin-top:0;margin-bottom:25px;border-bottom:3px solid var(--card-color-1);padding-bottom:10px;}.content-section h3{font-family:var(--heading-font);font-size:clamp(1.4em, 4vw, 1.6em);color:#757575;margin-top:35px;margin-bottom:15px;}.content-section p{margin-bottom:15px;font-size:1.05em;}.content-section ul,.content-section ol{list-style-position:outside;padding-left:25px;margin-bottom:15px;}.content-section ul li,.content-section ol li{margin-bottom:10px;}.content-section strong,.content-section b{font-weight:700;color:var(--error-color);}.content-section em{font-style:italic;color:#A1887F;}.icon{display:inline-block;margin-right:8px;font-style:normal;}
/* --- Schémas & Visuels --- */
.simple-cdcf-example{background-color:#f9f9f9;border:1px solid var(--border-color-light);border-radius:8px;padding:15px 20px;margin:20px 0;font-size:0.95em;}.simple-cdcf-example h4{margin-top:0;margin-bottom:10px;font-family:var(--heading-font);color:var(--text-color);font-size:1.1em;}.simple-cdcf-example ul{margin-bottom:0;padding-left:20px;}.simple-cdcf-example ul ul{margin-top:5px;margin-bottom:5px;padding-left:15px;}.simple-cdcf-example ul ul li{font-size:0.95em;margin-bottom:5px;}
.representation-comparison{display:grid;grid-template-columns:repeat(auto-fit, minmax(180px, 1fr));gap:15px;margin:20px 0;}.rep-box{text-align:center;padding:20px 15px;background-color:#fafafa;border-radius:8px;border:1px solid var(--border-color-light);}.rep-box h4{margin-top:0;margin-bottom:10px;font-family:var(--heading-font);font-size:1.1em;}.rep-visu{min-height:60px;border:1px dashed #ccc;border-radius:4px;margin-bottom:10px;display:flex;justify-content:center;align-items:center;font-size:1.5em;color:#aaa;background-color:#fff;}.rep-box p{font-size:0.9em;font-style:italic;margin-bottom:0;}
.simple-icon-placeholder{text-align:center;padding:20px;background-color:#f5f5f5;border-radius:8px;margin:20px 0;border:1px solid var(--border-color-light);}.simple-icon-placeholder .icon{font-size:3em;margin:0 10px;}.simple-icon-placeholder p{margin-top:10px;font-size:0.9em;color:#888;margin-bottom:0;}
.materials-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));gap:25px;margin:25px 0;}.mat-card,.fab-card,.assem-card{background-color:#fdfdfd;border:1px solid var(--border-color-light);border-radius:10px;padding:20px;box-shadow:0 2px 5px rgba(0,0,0,0.05);}.mat-card h3,.fab-card h3,.assem-card h3{margin-top:0;font-size:1.3em;color:var(--text-color);border-bottom:2px solid var(--border-color-light);padding-bottom:8px;display:flex;align-items:center;}.mat-card h3 .icon,.fab-card h3 .icon,.assem-card h3 .icon{margin-right:10px;font-size:1.2em;color:var(--accent-color);}.mat-card p,.fab-card p,.assem-card p{font-size:0.95em;margin-bottom:15px;}.material-families{display:flex;flex-wrap:wrap;gap:8px;margin:15px 0 0 0;}.material-families div{padding:6px 14px;background-color:#eef;border-radius:20px;font-size:0.9em;border:1px solid #dde;display:inline-flex;align-items:center;}.icon-list-vertical{list-style:none;padding-left:0;}.icon-list-vertical li{margin-bottom:10px;font-size:1em;display:flex;align-items:center;}.icon-list-vertical .icon{margin-right:10px;color:var(--accent-color);width:20px;text-align:center;}.visual-note{margin-top:25px;font-style:italic;text-align:center;color:#777;font-size:0.95em;border-top:1px solid var(--border-color-light);padding-top:15px;}
.diagram{display:block;margin:25px auto;max-width:95%;height:auto;overflow:visible;}.bete-a-cornes{max-width:300px;}.bete-a-cornes text{font-family:var(--body-font);font-size:9px;}
.flowchart-corrected.enhanced{max-width:400px;padding:15px;background-color:#f9f9f9;border-radius:10px;}.flowchart-corrected.enhanced .flow-text-enhanced{font-size:10px;}.flowchart-corrected.enhanced .flow-label-enhanced{font-size:9px;font-weight:bold;fill:#333;}.flowchart-corrected.enhanced .flow-box-enhanced{stroke-width:1.5;}.flowchart-corrected.enhanced .flow-line-enhanced{stroke-width:1.8;}
.input-output.enhanced{max-width:450px;margin:30px auto;}.input-output.enhanced .io-box{stroke-width:1.5;rx:8px;}.input-output.enhanced .io-text{font-size:11px;font-weight:500;}.input-output.enhanced .io-line{stroke-width:2.5;}
.simple-code-block-example{background-color:#2d2d2d;color:#f0f0f0;padding:15px;border-radius:6px;font-family:monospace;font-size:0.95em;margin:20px 0;line-height:1.4;white-space:pre;overflow-x:auto;}.simple-code-block-example .block{margin-bottom:5px;}.simple-code-block-example .condition{color:#c586c0;}.simple-code-block-example .action{color:#9cdcfe;}.simple-code-block-example .value{color:#ce9178;font-weight:bold;}.simple-code-block-example .indent{padding-left:2em;}
.cycle-diagram.enhanced{max-width:350px;margin:30px auto;}.cycle-diagram.enhanced .cycle-step text{font-size:9px;font-weight:500;}.cycle-diagram.enhanced .cycle-step circle{r:11;stroke-width:1;}.cycle-diagram.enhanced path{stroke-width:2;}
.cycle-diagram.enhanced g:nth-of-type(1) circle{fill:var(--card-color-1);}.cycle-diagram.enhanced g:nth-of-type(2) circle{fill:var(--card-color-2);}.cycle-diagram.enhanced g:nth-of-type(3) circle{fill:var(--card-color-3);}.cycle-diagram.enhanced g:nth-of-type(4) circle{fill:var(--accent-color);}.cycle-diagram.enhanced g:nth-of-type(5) circle{fill:var(--card-color-4);}.cycle-diagram.enhanced g:nth-of-type(4) text{fill:white;}
/* Liste cliquable (contraintes) */
.clickable-list{list-style:none;padding-left:0;}.clickable-list li{cursor:pointer;padding:8px 10px;border-radius:6px;transition:background-color 0.2s ease;border:1px solid transparent;margin-bottom:5px;display:flex;align-items:center;}.clickable-list li:hover{background-color:#f0f0f0;}.clickable-list li:focus{outline:none;border:1px dashed var(--accent-color);}
.info-box{margin-top:15px;padding:0 15px;background-color:#E0F2F1;border-left:4px solid var(--accent-color);border-radius:4px;font-style:italic;opacity:0;max-height:0;overflow:hidden;transition:opacity 0.3s ease, max-height 0.4s ease, padding 0.4s ease, margin-top 0.4s ease;font-size:0.95em;}
.info-box.visible{opacity:1;max-height:100px;padding:15px;margin-top:15px;}
/* Mots Importants */
.important-word{color:var(--accent-color);font-weight:bold;cursor:pointer;border-bottom:1px dashed var(--accent-color);transition:color 0.2s ease, border-bottom-color 0.2s ease;padding-bottom:1px;}
.important-word:hover,.important-word:focus{color:#004D40;border-bottom:1px solid #004D40;outline:none;}

/* --- STYLES SECTION EXERCICES --- */
#exercices-section h2 .icon{margin-right:10px;vertical-align:middle;}
#theme-buttons{display:flex;flex-wrap:wrap;gap:15px;margin:20px 0;justify-content:center;}
.theme-button{padding:10px 20px;font-family:var(--heading-font);font-size:1.05em;font-weight:700;border:none;border-radius:8px;cursor:pointer;background-color:var(--card-color-1);color:var(--text-color);transition:background-color 0.2s ease, transform 0.1s ease;box-shadow:0 2px 4px rgba(0,0,0,0.1);}
.theme-button:hover{transform:scale(1.05);}.theme-button:active{transform:scale(0.98);}
.theme-button[data-theme="besoin"]{background-color:var(--card-color-1);}.theme-button[data-theme="solution"]{background-color:var(--card-color-2);}.theme-button[data-theme="materiaux"]{background-color:var(--card-color-3);}.theme-button[data-theme="programme"]{background-color:var(--card-color-4);}
.theme-button.active{background-color:var(--accent-color);color:white;box-shadow:inset 0 2px 4px rgba(0,0,0,0.2);transform:scale(1.02);}
.exercise-divider{border:none;border-top:1px solid var(--border-color-light);margin:30px 0;}
#exercise-content-area{margin-top:20px;min-height:200px;}
#exercise-content-area h3{font-family:var(--heading-font);color:var(--accent-color);margin-top:40px;margin-bottom:20px;border-bottom:1px solid #eee;padding-bottom:8px;font-size:1.4em;}
#exercise-content-area h3:first-of-type{margin-top:0;}
#exercise-content-area h4{font-family:var(--heading-font);font-weight:500;font-size:1.1em;margin-top:25px;margin-bottom:15px;color:var(--text-color);}
#exercise-controls{margin-top:30px;text-align:center;}
#validate-exercise-button{padding:12px 30px;font-family:var(--heading-font);font-size:1.1em;font-weight:700;background-color:var(--success-color);color:white;border:none;border-radius:8px;cursor:pointer;transition:background-color 0.2s ease, transform 0.1s ease;box-shadow:0 2px 4px rgba(0,0,0,0.15);}
#validate-exercise-button:hover{background-color:#45a049;transform:scale(1.03);}
#validate-exercise-button:active{transform:scale(0.98);}
#exercise-feedback{margin-top:25px;padding:15px 20px;background-color:#f0f0f0;border-left:5px solid var(--accent-color);border-radius:4px;font-weight:bold;text-align:left;line-height:1.5;}
#exercise-feedback span{color:var(--accent-color);font-size:1.1em;}
#exercise-content-area .placeholder-text{text-align:center;color:#888;font-style:italic;margin-top:30px;}

/* --- STYLES SPÉCIFIQUES EXERCICES --- */
/* Quiz */ .quiz-exercise{margin-bottom:25px;padding-left:10px;}.quiz-exercise p.question{font-weight:bold;margin-bottom:10px;color:var(--text-color);}.quiz-options label{display:block;margin-bottom:8px;cursor:pointer;padding:5px 8px;border-radius:4px;transition:background-color 0.2s ease;}.quiz-options label:hover{background-color:#f5f5f5;}.quiz-options input[type="radio"]{margin-right:10px;vertical-align:middle;accent-color:var(--accent-color);transform:scale(1.1);}
/* Association */ .association-exercise{margin-bottom:20px;}.association-group div{margin-bottom:12px;display:flex;align-items:center;flex-wrap:wrap;gap:10px;}.association-group label{display:inline-block;width:180px;font-weight:bold;flex-shrink:0;}.association-group select{padding:8px 10px;min-width:220px;flex-grow:1;border:1px solid #ccc;border-radius:5px;font-family:var(--body-font);font-size:0.95em;}.association-group select:focus{border-color:var(--accent-color);outline:none;box-shadow:0 0 5px rgba(0, 121, 107, 0.3);}
/* Memory Game */ .memory-game{display:grid;grid-template-columns:repeat(6, 1fr);gap:10px;margin-top:15px;margin-bottom:20px;perspective:1000px;max-width:600px;margin-left:auto;margin-right:auto;}.memory-card{background-color:var(--card-color-4);border:1px solid var(--accent-color);border-radius:8px;aspect-ratio:1 / 1;display:flex;justify-content:center;align-items:center;font-size:0.85em;font-weight:500;cursor:pointer;position:relative;transform-style:preserve-3d;transition:transform 0.6s;color:var(--text-color);user-select:none;padding:4px;text-align:center;word-wrap:break-word;}.memory-card .card-face{position:absolute;width:100%;height:100%;backface-visibility:hidden;display:flex;justify-content:center;align-items:center;border-radius:8px;box-sizing:border-box;padding:4px;overflow:hidden;}.memory-card .card-front{background-color:var(--card-color-4);font-size:1.8em;color:rgba(0,0,0,0.3);}.memory-card .card-back{background-color:#fff;transform:rotateY(180deg);color:var(--text-color);border:1px solid var(--border-color-light);font-size:0.8em;}.memory-card.flipped{transform:rotateY(180deg);}.memory-card.matched{cursor:default;opacity:0.7;transform:rotateY(180deg) scale(0.95);background-color:#c8e6c9;border-color:#66bb6a;}.memory-card.matched .card-back{background-color:#c8e6c9;}.memory-timer{font-family:var(--heading-font);font-size:1.1em;font-weight:bold;color:var(--text-color);text-align:center;margin:5px auto 15px auto;background:#eee;padding:5px 10px;border-radius:5px;width:fit-content;box-shadow:inset 0 1px 3px rgba(0,0,0,0.1);}.memory-container{margin-bottom:20px;}
/* Pendu */ .pendu-container{margin-top:15px;margin-bottom:25px;padding:20px;border:1px solid var(--border-color-light);border-radius:8px;background-color:#fafafa;display:grid;grid-template-columns:1fr;gap:15px;}@media (min-width:600px){.pendu-container{grid-template-columns:150px 1fr;gap:25px;}.pendu-drawing{grid-row:1 / span 4;}.pendu-game-area{grid-column:2 / 3;}}.pendu-drawing{width:150px;height:180px;border:1px solid #ccc;margin:0 auto 15px auto;position:relative;background-color:#fff;}.pendu-dessin{width:100%;height:100%;}.pendu-dessin .pendu-part{stroke:var(--text-color);stroke-width:3;stroke-linecap:round;fill:none;display:none;}
.pendu-container.mistakes-1 .pendu-part-1{display:block;}.pendu-container.mistakes-2 .pendu-part-1,.pendu-container.mistakes-2 .pendu-part-2{display:block;}.pendu-container.mistakes-3 .pendu-part-1,.pendu-container.mistakes-3 .pendu-part-2,.pendu-container.mistakes-3 .pendu-part-3{display:block;}.pendu-container.mistakes-4 .pendu-part-1,.pendu-container.mistakes-4 .pendu-part-2,.pendu-container.mistakes-4 .pendu-part-3,.pendu-container.mistakes-4 .pendu-part-4{display:block;}.pendu-container.mistakes-5 .pendu-part-1,.pendu-container.mistakes-5 .pendu-part-2,.pendu-container.mistakes-5 .pendu-part-3,.pendu-container.mistakes-5 .pendu-part-4,.pendu-container.mistakes-5 .pendu-part-5{display:block;}
.pendu-container.mistakes-5 .pendu-part-6{display:block;} /* Body on 5th mistake = lose */
.pendu-game-area{display:flex;flex-direction:column;align-items:center;}.pendu-container p.hint{font-style:italic;color:#777;margin-bottom:10px;font-size:0.95em;text-align:center;width:100%;}.pendu-mot{font-size:2em;letter-spacing:10px;margin-bottom:20px;font-family:monospace;color:var(--accent-color);min-height:35px;line-height:1.2;font-weight:bold;text-align:center;}
.alphabet-keyboard{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin-top:15px;margin-bottom:15px;max-width:300px;}
button.letter-button{font-family:var(--heading-font);font-weight:bold;font-size:1em;width:35px;height:35px;cursor:pointer;border:1px solid #ccc;border-radius:5px;background-color:#fff;color:var(--text-color);transition:background-color .2s,color .2s,transform .1s;}
button.letter-button:hover{background-color:var(--card-color-4);}button.letter-button:active{transform:scale(.95);}
button.letter-button:disabled{background-color:var(--disabled-color);color:#fff;cursor:not-allowed;border-color:#aaa;}
.pendu-info{text-align:center;margin-top:15px;width:100%;}.pendu-guesses-left,.pendu-lettres-proposees,.pendu-message-fin{margin-top:8px;font-size:1em;min-height:1.2em;}.pendu-lettres-proposees{color:#555;word-wrap:break-word;font-family:monospace;}.pendu-guesses-left{font-weight:bold;color:var(--error-color);}.pendu-message-fin{font-weight:bold;font-size:1.1em;}.pendu-message-fin.win{color:var(--success-color);}.pendu-message-fin.lose{color:var(--error-color);}
.pendu-container button.retry-button{display:inline-block;margin-top:15px;padding:8px 15px;cursor:pointer;background-color:#eee;border:1px solid #ccc;border-radius:4px;font-size:.9em;transition:background-color .2s ease;}.pendu-container button.retry-button:hover{background-color:#ddd;}

/* Utility class */ .is-hidden{display:none!important;}
/* Responsive */ @media (max-width:992px){.materials-grid{grid-template-columns:1fr;}}@media (max-width:768px){body{font-size:15px;}.container{margin:15px auto;padding:15px;}header h1{font-size:2.2em;}#card-grid{gap:20px;}.course-card{min-height:160px;padding:25px 20px;}.card-title{font-size:1.3em;}.content-section{padding:25px;}.back-button{padding:10px 20px;font-size:1em;}.representation-comparison{grid-template-columns:1fr;}.diagram{max-width:100%;}.memory-game{grid-template-columns:repeat(5, 1fr);}}@media (max-width:600px){.memory-game{grid-template-columns:repeat(4, 1fr);gap:8px;max-width:100%;}.memory-card .card-back{font-size:.7em;}.association-group label{width:100%;margin-bottom:5px;}.pendu-container{grid-template-columns:1fr;}.pendu-drawing{grid-row:auto;}.pendu-mot{font-size:1.5em;letter-spacing:8px;}button.letter-button{width:30px;height:30px;font-size:.9em;}}@media (max-width:480px){body{font-size:14px;}header h1{font-size:1.8em;}#card-grid{grid-template-columns:1fr;gap:15px;}.course-card{min-height:130px;}.card-title{font-size:1.2em;}.content-section{padding:20px 15px;}.modal-content{width:90%;padding:20px 25px;}.simple-code-block-example{font-size:.85em;}.flowchart-corrected.enhanced .flow-text-enhanced,.input-output.enhanced .io-text,.cycle-diagram.enhanced text{font-size:8px;}.flowchart-corrected.enhanced .flow-label-enhanced{font-size:7px;}.memory-game{grid-template-columns:repeat(3, 1fr);}.memory-card .card-back{font-size:.65em;}}
/* Modale */ .modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:var(--modal-overlay);align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease;}.modal.is-visible{display:flex;opacity:1;}.modal-content{background-color:var(--modal-background);padding:30px 35px;width:85%;max-width:600px;border-radius:var(--card-border-radius);position:relative;box-shadow:0 5px 20px rgba(0,0,0,.2);max-height:80vh;overflow-y:auto;transform:scale(.9);opacity:0;transition:transform .3s ease,opacity .3s ease;}.modal.is-visible .modal-content{transform:scale(1);opacity:1;}.close-button{color:#aaa;font-size:30px;font-weight:bold;position:absolute;top:8px;right:12px;cursor:pointer;line-height:1;transition:color .2s ease;z-index:1;}.close-button:hover,.close-button:focus{color:#555;outline:none;}#modal-title{font-family:var(--heading-font);margin-top:0;margin-bottom:15px;color:#5D4037;font-size:1.4em;padding-right:25px;}#modal-definition{font-size:1.05em;line-height:1.6;}